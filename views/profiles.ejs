<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/style.css" />  
    <link rel="stylesheet" type="text/css" href="/css/partials.css" />  

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <title>Profiles</title>
    <script
src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">

</script>
</head>
<body>


    <div id="banner-profiles">
        
        <div id="header-box">
            <h1>Travel Bug</h1>
            
            <nav>
                <a href="/">Home</a>
                <a href="/profiles">Profiles</a>
            </nav>
            </div>

        <div id="banner-profiles-overlay"></div>
        <h2>Find Your Next Adventure</h2>
    </div>

   

    <main>

        <div id="create-profile-div">

        <form id="create-user-form" action = '/profiles' method="POST">

            <h3>Are you a Travel Bug yet? <br/> <span>Create a Profile: </span></h3>

            <h4>Avaliable Cities: London, Paris, Barcelona, Dubrovnik, Reykjavik, Amsterdam, Venice, Berlin</h4>

            <label>Username:    </label>
                <input type="text" id="form-username" name="username" value="<%= locals.username %>" required>
        
                <label>Destination:    </label>
                <input type="text" id="form-destination" name="destination" value="<%= locals.destination %>" required>

            <label>Hobbies:</label>
                <input type="text" id="form-hobbies" name="hobbies" value="<%= locals.hobbies %>" >
       
            <input type="submit" value="Submit">


        </form>

    </div>

  
       
        <h3>Meet Our Travel Bugs</h3>
        <div id="profile-section">
        <% profiles.forEach((profile, i) => { %>
            <div class="user-profile">
                <img class="user-destinationImg" src="" alt="Destination Image" width="100px">
            
            <div class="user-username-div">
                <span class="material-symbols-outlined">
                    person
                    </span>
                <p class="user-username"><%= profile.username %></p>
            </div>

            <div class="user-destination-div">
            <span class="material-symbols-outlined">
                explore
                </span>
            <p class="user-destination"><%= profile.destination %></p>
        </div>

        <div class="user-hobbies-div">
            <span class="material-symbols-outlined">
                favorite
                </span>
            <p class="user-hobbies"><%= profile.hobbies %></p>
            <a id="patch-btn" href="/profiles/<%=profile.id%>/patch?username=<%=profile.username%>&hobbies=<%=profile.hobbies%>">+</a>
            </div>

            <a class= "edit-btn" href="/profiles/<%=profile.id%>/put?username=<%=profile.username%>&destination=<%=profile.destination%>&hobbies=<%=profile.hobbies%>">Edit</a>
            <a class= "delete-btn" href="/profiles/<%=profile.id%>/delete?username=<%=profile.username%>">Delete</a>
            </div>
        <% }); %>
    </div>



    </main>


    <script src="js/profilesFrontEnd.js"></script>
    
</body>
</html>